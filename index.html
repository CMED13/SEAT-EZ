<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>SEAT:EZ</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #ffb347 0%, #ffffff 60%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #222;
        }

        .screen {
            width: 430px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.25);
            border: 4px solid #ff6a00;
            padding: 30px;
            text-align: center;
            display: none;
        }

        .active {
            display: block !important;
        }

        .logo {
            width: 200px;
            max-width: 80%;
            margin: 0 auto 15px auto;
            display: block;
        }

        h1 {
            font-size: 30px;
            font-weight: 900;
            color: #000000;
            margin: 0 0 5px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        h1 span {
            color: #ff6a00;
        }

        h2 {
            font-size: 18px;
            color: #555555;
            margin-bottom: 25px;
            font-weight: 600;
        }

        label {
            display: block;
            margin-top: 10px;
            font-size: 14px;
            text-align: left;
            color: #000000;
            font-weight: bold;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin-top: 6px;
            font-size: 14px;
            border-radius: 6px;
            border: 2px solid #000000;
            box-sizing: border-box;
            background: #ffffff;
        }

        button {
            width: 100%;
            padding: 12px;
            margin-top: 12px;
            border: none;
            border-radius: 6px;
            background: #000000;
            color: #ffffff;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }

        button.orange {
            background: #ff6a00;
        }

        button.secondary {
            background: #777777;
        }

        button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .msg {
            margin-top: 10px;
            font-size: 14px;
            min-height: 18px;
            font-weight: 600;
        }

        #fakeEmail {
            margin-top: 15px;
            padding: 12px;
            background: #fffaf4;
            border: 2px dashed #000000;
            border-radius: 6px;
            white-space: pre-wrap;
            font-family: Consolas, monospace;
            font-size: 13px;
            text-align: left;
            color: #222222;
        }

        ul {
            text-align: left;
            font-size: 14px;
            color: #222222;
            margin-top: 15px;
            padding-left: 15px;
        }
    </style>
</head>

<body>

    <!-- HOME SCREEN -->
    <div class="screen active" id="homeScreen">
        <img src="logo.png" class="logo" alt="SEAT:EZ Logo">
        <h1><span>SEAT:</span>EZ</h1>
        <h2>Seleccione tipo de acceso</h2>

        <button class="orange" onclick="goUserLogin()">Usuario</button>
        <button onclick="goAdminLogin()">Administrador</button>
    </div>

    <!-- USER LOGIN SCREEN -->
    <div class="screen" id="userLoginScreen">
        <img src="logo.png" class="logo" alt="SEAT:EZ Logo">
        <h1><span>SEAT:</span>EZ</h1>
        <h2>Inicio de sesión (Usuario)</h2>

        <label>Usuario</label>
        <input type="text" id="username" placeholder="Ingrese su usuario">

        <label>Contraseña</label>
        <input type="password" id="password" placeholder="Ingrese su contraseña">

        <button class="orange" onclick="loginUser()">Ingresar</button>
        <button onclick="goForgotPassword()">Olvidé mi contraseña</button>
        <button class="secondary" onclick="showHome()">Volver</button>

        <div class="msg" id="loginMessage"></div>
    </div>

    <!-- FORGOT PASSWORD SCREEN -->
    <div class="screen" id="forgotPasswordScreen">
        <img src="logo.png" class="logo" alt="SEAT:EZ Logo">
        <h1><span>SEAT:</span>EZ</h1>
        <h2>Restablecer contraseña</h2>

        <label>Nueva contraseña</label>
        <input type="password" id="newPassword" placeholder="Nueva contraseña">

        <label>Confirmar nueva contraseña</label>
        <input type="password" id="confirmPassword" placeholder="Confirmar contraseña">

        <button class="orange" onclick="resetPassword()">Guardar nueva contraseña</button>
        <button class="secondary" onclick="backToUserLogin()">Cancelar</button>

        <div class="msg" id="forgotMessage"></div>
    </div>

    <!-- ADMIN LOGIN SCREEN -->
    <div class="screen" id="adminLoginScreen">
        <img src="logo.png" class="logo" alt="SEAT:EZ Logo">
        <h1><span>SEAT:</span>EZ</h1>
        <h2>Acceso Administrativo</h2>

        <label>Usuario Admin</label>
        <input type="text" id="adminUser" placeholder="Usuario admin">

        <label>Contraseña Admin</label>
        <input type="password" id="adminPass" placeholder="Contraseña admin">

        <button class="orange" onclick="loginAdmin()">Ingresar</button>
        <button class="secondary" onclick="showHome()">Volver</button>

        <div class="msg" id="adminMessage"></div>
    </div>

    <!-- RESERVATION SCREEN -->
    <div class="screen" id="reservationScreen">
        <img src="logo.png" class="logo" alt="SEAT:EZ Logo">
        <h1><span>SEAT:</span>EZ</h1>
        <h2>Reservación</h2>

        <label>Restaurante</label>
        <select id="restaurant">
            <option value="">Seleccione uno...</option>
            <option>LongHorn Steakhouse</option>
            <option>Chili's</option>
            <option>Olive Garden</option>
            <option>Outback Steakhouse</option>
            <option>Cheesecake Factory</option>
        </select>

        <label>Fecha de la reservación</label>
        <input type="date" id="date">

        <label>Hora de la reservación</label>
        <select id="time"></select>

        <label>Cantidad de asientos (1–10)</label>
        <input type="number" id="seats" min="1" max="10" value="2">

        <button class="orange" onclick="makeReservation()">Confirmar</button>
        <button class="secondary" onclick="logout()">Cerrar sesión</button>
    </div>

    <!-- CONFIRMATION SCREEN -->
    <div class="screen" id="confirmationScreen">
        <img src="logo.png" class="logo" alt="SEAT:EZ Logo">
        <h1><span>SEAT:</span>EZ</h1>
        <h2>Confirmación enviada</h2>

        <div id="fakeEmail"></div>

        <button class="orange" onclick="backToReservations()">Hacer otra reservación</button>
        <button class="secondary" onclick="logout()">Cerrar sesión</button>
    </div>

    <!-- ADMIN PANEL SCREEN -->
    <div class="screen" id="adminScreen">
        <img src="logo.png" class="logo" alt="SEAT:EZ Logo">
        <h1><span>SEAT:</span>EZ</h1>
        <h2>Panel Administrativo</h2>

        <p><b>Reservas registradas:</b></p>
        <ul id="reservationList"></ul>

        <button class="orange" onclick="showHome()">Volver al inicio</button>
        <button class="secondary" onclick="logout()">Cerrar sesión</button>
    </div>

    <script>
        // ========= CONFIGURACIÓN =========
        const USER_USERNAME = "user123";
        let userPassword = "pass123";

        const ADMIN_USERNAME = "admin";
        const ADMIN_PASSWORD = "admin123";

        let reservations = [];

        // ========= FORMATOS =========

        function formatDateDisplay(dateStr) {
            const [year, month, day] = dateStr.split("-");
            return `${month}/${day}/${year}`;
        }

        function formatTimeDisplay(timeStr) {
            const [hour, minute] = timeStr.split(":");
            let h = parseInt(hour, 10);
            const ampm = h >= 12 ? "PM" : "AM";
            h = h % 12 || 12;
            return `${h}:${minute} ${ampm}`;
        }

        function populateTimeOptions() {
            const timeSelect = document.getElementById("time");
            timeSelect.innerHTML = "";

            for (let h = 0; h < 24; h++) {
                for (let m = 0; m < 60; m += 30) {
                    const hh = String(h).padStart(2, "0");
                    const mm = String(m).padStart(2, "0");
                    const value = `${hh}:${mm}`;
                    const label = formatTimeDisplay(value);

                    const opt = document.createElement("option");
                    opt.value = value;
                    opt.textContent = label;

                    timeSelect.appendChild(opt);
                }
            }
        }

        // ========= PANTALLAS =========

        function showScreen(id) {
            document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
            document.getElementById(id).classList.add("active");
        }

        function showHome() {
            clearMessages();
            showScreen("homeScreen");
        }

        function clearMessages() {
            document.getElementById("loginMessage").textContent = "";
            document.getElementById("adminMessage").textContent = "";
            document.getElementById("forgotMessage").textContent = "";
        }

        function goUserLogin() { showScreen("userLoginScreen"); }
        function goAdminLogin() { showScreen("adminLoginScreen"); }
        function goForgotPassword() { showScreen("forgotPasswordScreen"); }
        function backToUserLogin() { showScreen("userLoginScreen"); }
        function backToReservations() { showScreen("reservationScreen"); }

        // ========= LOGIN USUARIO =========

        function loginUser() {
            const user = document.getElementById("username").value.trim();
            const pass = document.getElementById("password").value.trim();
            const msg = document.getElementById("loginMessage");

            if (user === USER_USERNAME && pass === userPassword) {
                showScreen("reservationScreen");
            } else {
                msg.textContent = "Usuario o contraseña incorrectos.";
            }
        }

        // ========= RESTABLECER CONTRASEÑA =========

        function resetPassword() {
            const newPass = document.getElementById("newPassword").value.trim();
            const confirmPass = document.getElementById("confirmPassword").value.trim();
            const msg = document.getElementById("forgotMessage");

            if (newPass.length < 4) {
                msg.textContent = "La nueva contraseña debe tener al menos 4 caracteres.";
                return;
            }
            if (newPass !== confirmPass) {
                msg.textContent = "Las contraseñas no coinciden.";
                return;
            }

            userPassword = newPass;
            msg.style.color = "green";
            msg.textContent = "Contraseña actualizada.";

            setTimeout(() => {
                backToUserLogin();
            }, 800);
        }

        // ========= LOGIN ADMIN =========

        function loginAdmin() {
            const user = document.getElementById("adminUser").value.trim();
            const pass = document.getElementById("adminPass").value.trim();
            const msg = document.getElementById("adminMessage");

            if (user === ADMIN_USERNAME && pass === ADMIN_PASSWORD) {
                loadAdminData();
                showScreen("adminScreen");
            } else {
                msg.textContent = "Credenciales incorrectas.";
            }
        }

        // ========= RESERVAR =========

        function makeReservation() {
            const restaurant = document.getElementById("restaurant").value;
            const dateVal = document.getElementById("date").value;
            const timeVal = document.getElementById("time").value;
            const seatsVal = document.getElementById("seats").value;
            const seats = parseInt(seatsVal, 10);

            if (!restaurant || !dateVal || !timeVal || seats < 1 || seats > 10) {
                alert("Complete todos los datos.");
                return;
            }

            const reservation = {
                restaurant,
                date: dateVal,
                time: timeVal,
                seats
            };

            reservations.push(reservation);

            const now = new Date();
            const sendDate = now.toLocaleDateString("en-US");
            const sendTime = now.toLocaleTimeString("en-US", {
                hour: "numeric",
                minute: "2-digit"
            });

            document.getElementById("fakeEmail").textContent =
`SEAT:EZ - Confirmación de Reserva

Restaurante: ${reservation.restaurant}
Fecha: ${formatDateDisplay(reservation.date)}
Hora: ${formatTimeDisplay(reservation.time)}
Asientos: ${reservation.seats}

Fecha y hora de envío:
${sendDate}, ${sendTime}

Gracias por usar SEAT:EZ.
(Este es un correo de demostración.)`;

            showScreen("confirmationScreen");
        }

        // ========= PANEL ADMIN =========

        function loadAdminData() {
            const list = document.getElementById("reservationList");
            list.innerHTML = "";

            if (reservations.length === 0) {
                list.innerHTML = "<li>No hay reservas registradas.</li>";
                return;
            }

            reservations.forEach(r => {
                const item = document.createElement("li");
                item.textContent =
                    `${r.seats} asientos en ${r.restaurant} ` +
                    `el ${formatDateDisplay(r.date)} ` +
                    `a las ${formatTimeDisplay(r.time)}`;
                list.appendChild(item);
            });
        }

        // ========= LOGOUT =========

        function logout() {
            clearMessages();
            document.getElementById("username").value = "";
            document.getElementById("password").value = "";
            document.getElementById("adminUser").value = "";
            document.getElementById("adminPass").value = "";
            document.getElementById("restaurant").value = "";
            document.getElementById("date").value = "";
            document.getElementById("time").value = "";
            document.getElementById("seats").value = "2";
            document.getElementById("fakeEmail").textContent = "";

            showHome();
        }

        // ========= INICIALIZAR =========
        window.addEventListener("DOMContentLoaded", populateTimeOptions);
    </script>

</body>
</html>

